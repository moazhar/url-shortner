version: '3.8'

services:
  app:
    image: azhar1997/url-shortner:latest
    env_file: .env
    ports:
      - '${PORT}:${PORT}' # Use PORT from the .env file
    depends_on:
      - mongodb

  mongodb:
    image: mongo:latest
    container_name: mongodb
    ports:
      - '27017:27017' # Expose MongoDB port to the host
    volumes:
      - mongodb_data:/data/db # Persist MongoDB data

volumes:
  mongodb_data:
